<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/icon.png"><title>Environment | Nushell</title><meta name="description" content="A new type of shell.">
    <link rel="preload" href="/assets/style-9c9951ef.css" as="style"><link rel="stylesheet" href="/assets/style-9c9951ef.css">
    <link rel="modulepreload" href="/assets/app-c9a81c0f.js"><link rel="modulepreload" href="/assets/framework-344bb0e4.js"><link rel="modulepreload" href="/assets/environment.html-d4f73a0e.js"><link rel="modulepreload" href="/assets/environment.html-4cb2e556.js">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Nushell</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/book/" class="router-link-active" aria-label="Book"><!--[--><!--]--> Book <!--[--><!--]--></a></div><div class="navbar-item"><a href="/commands/" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></div><div class="navbar-item"><a href="/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/book/environment.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh-CN/book/environment.html" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/book/environment.html" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/book/environment.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt-BR/" class="" aria-label="Português do Brasil"><!--[--><!--]--> Português do Brasil <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/nushell/nushell" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/book/" class="router-link-active" aria-label="Book"><!--[--><!--]--> Book <!--[--><!--]--></a></div><div class="navbar-item"><a href="/commands/" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></div><div class="navbar-item"><a href="/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/book/environment.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh-CN/book/environment.html" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/book/environment.html" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/book/environment.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt-BR/" class="" aria-label="Português do Brasil"><!--[--><!--]--> Português do Brasil <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/nushell/nushell" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/book/README.md" class="sidebar-item sidebar-heading" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/book/getting_started.md" class="sidebar-item sidebar-heading" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/installation.html" class="sidebar-item" aria-label="Installing Nu"><!--[--><!--]--> Installing Nu <!--[--><!--]--></a><!----></li><li><a href="/book/default_shell.html" class="sidebar-item" aria-label="Default shell"><!--[--><!--]--> Default shell <!--[--><!--]--></a><!----></li><li><a href="/book/quick_tour.html" class="sidebar-item" aria-label="Quick Tour"><!--[--><!--]--> Quick Tour <!--[--><!--]--></a><!----></li><li><a href="/book/moving_around.html" class="sidebar-item" aria-label="Moving around your system"><!--[--><!--]--> Moving around your system <!--[--><!--]--></a><!----></li><li><a href="/book/thinking_in_nu.html" class="sidebar-item" aria-label="Thinking in Nu"><!--[--><!--]--> Thinking in Nu <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/nu_fundamentals.md" class="sidebar-item sidebar-heading" aria-label="Nu Fundamentals"><!--[--><!--]--> Nu Fundamentals <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/types_of_data.html" class="sidebar-item" aria-label="Types of Data"><!--[--><!--]--> Types of Data <!--[--><!--]--></a><!----></li><li><a href="/book/loading_data.html" class="sidebar-item" aria-label="Loading data"><!--[--><!--]--> Loading data <!--[--><!--]--></a><!----></li><li><a href="/book/pipelines.html" class="sidebar-item" aria-label="Pipelines"><!--[--><!--]--> Pipelines <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_strings.html" class="sidebar-item" aria-label="Working with strings"><!--[--><!--]--> Working with strings <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_lists.html" class="sidebar-item" aria-label="Working with lists"><!--[--><!--]--> Working with lists <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_tables.html" class="sidebar-item" aria-label="Working with tables"><!--[--><!--]--> Working with tables <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/programming_in_nu.md" class="sidebar-item sidebar-heading" aria-label="Programming in Nu"><!--[--><!--]--> Programming in Nu <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/custom_commands.html" class="sidebar-item" aria-label="Custom commands"><!--[--><!--]--> Custom commands <!--[--><!--]--></a><!----></li><li><a href="/book/aliases.html" class="sidebar-item" aria-label="Aliases"><!--[--><!--]--> Aliases <!--[--><!--]--></a><!----></li><li><a href="/book/operators.html" class="sidebar-item" aria-label="Operators"><!--[--><!--]--> Operators <!--[--><!--]--></a><!----></li><li><a href="/book/variables_and_subexpressions.html" class="sidebar-item" aria-label="Variables and Subexpressions"><!--[--><!--]--> Variables and Subexpressions <!--[--><!--]--></a><!----></li><li><a href="/book/scripts.html" class="sidebar-item" aria-label="Scripts"><!--[--><!--]--> Scripts <!--[--><!--]--></a><!----></li><li><a href="/book/modules.html" class="sidebar-item" aria-label="Modules"><!--[--><!--]--> Modules <!--[--><!--]--></a><!----></li><li><a href="/book/overlays.html" class="sidebar-item" aria-label="Overlays"><!--[--><!--]--> Overlays <!--[--><!--]--></a><!----></li><li><a href="/book/command_signature.html" class="sidebar-item" aria-label="Command signature"><!--[--><!--]--> Command signature <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/nu_as_a_shell.md" class="sidebar-item sidebar-heading active" aria-label="Nu as a Shell"><!--[--><!--]--> Nu as a Shell <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/configuration.html" class="sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Environment"><!--[--><!--]--> Environment <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book/environment.html#setting-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Setting environment variables"><!--[--><!--]--> Setting environment variables <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book/environment.html#let-env" class="router-link-active router-link-exact-active sidebar-item" aria-label="let-env"><!--[--><!--]--> let-env <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#load-env" class="router-link-active router-link-exact-active sidebar-item" aria-label="load-env"><!--[--><!--]--> load-env <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#one-shot-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="One-shot environment variables"><!--[--><!--]--> One-shot environment variables <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#calling-a-command-defined-with-def-env" class="router-link-active router-link-exact-active sidebar-item" aria-label="Calling a command defined with def-env"><!--[--><!--]--> Calling a command defined with def-env <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#using-module-s-exports" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using module&#39;s exports"><!--[--><!--]--> Using module&#39;s exports <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/book/environment.html#reading-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Reading environment variables"><!--[--><!--]--> Reading environment variables <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#scoping" class="router-link-active router-link-exact-active sidebar-item" aria-label="Scoping"><!--[--><!--]--> Scoping <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#changing-directory" class="router-link-active router-link-exact-active sidebar-item" aria-label="Changing directory"><!--[--><!--]--> Changing directory <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#single-use-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Single-use environment variables"><!--[--><!--]--> Single-use environment variables <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#permanent-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Permanent environment variables"><!--[--><!--]--> Permanent environment variables <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#defining-environment-from-custom-commands" class="router-link-active router-link-exact-active sidebar-item" aria-label="Defining environment from custom commands"><!--[--><!--]--> Defining environment from custom commands <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#environment-variable-conversions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Environment variable conversions"><!--[--><!--]--> Environment variable conversions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/environment.html#removing-environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Removing environment variables"><!--[--><!--]--> Removing environment variables <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/stdout_stderr_exit_codes.html" class="sidebar-item" aria-label="Stdout, Stderr, and Exit Codes"><!--[--><!--]--> Stdout, Stderr, and Exit Codes <!--[--><!--]--></a><!----></li><li><a href="/book/escaping.html" class="sidebar-item" aria-label="Escaping to the system"><!--[--><!--]--> Escaping to the system <!--[--><!--]--></a><!----></li><li><a href="/book/3rdpartyprompts.html" class="sidebar-item" aria-label="How to configure 3rd party prompts"><!--[--><!--]--> How to configure 3rd party prompts <!--[--><!--]--></a><!----></li><li><a href="/book/shells_in_shells.html" class="sidebar-item" aria-label="Shells in shells"><!--[--><!--]--> Shells in shells <!--[--><!--]--></a><!----></li><li><a href="/book/line_editor.html" class="sidebar-item" aria-label="Reedline, Nu&#39;s line editor"><!--[--><!--]--> Reedline, Nu&#39;s line editor <!--[--><!--]--></a><!----></li><li><a href="/book/externs.html" class="sidebar-item" aria-label="Externs"><!--[--><!--]--> Externs <!--[--><!--]--></a><!----></li><li><a href="/book/custom_completions.html" class="sidebar-item" aria-label="Custom completions"><!--[--><!--]--> Custom completions <!--[--><!--]--></a><!----></li><li><a href="/book/coloring_and_theming.html" class="sidebar-item" aria-label="Coloring and Theming in Nu"><!--[--><!--]--> Coloring and Theming in Nu <!--[--><!--]--></a><!----></li><li><a href="/book/hooks.html" class="sidebar-item" aria-label="Hooks"><!--[--><!--]--> Hooks <!--[--><!--]--></a><!----></li><li><a href="/book/background_task.html" class="sidebar-item" aria-label="Background task in Nu"><!--[--><!--]--> Background task in Nu <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/coming_to_nu.md" class="sidebar-item sidebar-heading" aria-label="Coming to Nu"><!--[--><!--]--> Coming to Nu <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/coming_from_bash.html" class="sidebar-item" aria-label="Coming from Bash"><!--[--><!--]--> Coming from Bash <!--[--><!--]--></a><!----></li><li><a href="/book/coming_from_cmd.html" class="sidebar-item" aria-label="Coming from CMD.EXE"><!--[--><!--]--> Coming from CMD.EXE <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map.html" class="sidebar-item" aria-label="Nu map from other shells and domain specific languages"><!--[--><!--]--> Nu map from other shells and domain specific languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map_imperative.html" class="sidebar-item" aria-label="Nu map from imperative languages"><!--[--><!--]--> Nu map from imperative languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map_functional.html" class="sidebar-item" aria-label="Nu map from functional languages"><!--[--><!--]--> Nu map from functional languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_operator_map.html" class="sidebar-item" aria-label="Nushell operator map"><!--[--><!--]--> Nushell operator map <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/design_notes.md" class="sidebar-item sidebar-heading" aria-label="Design Notes"><!--[--><!--]--> Design Notes <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/how_nushell_code_gets_run.html" class="sidebar-item" aria-label="How Nushell Code Gets Run"><!--[--><!--]--> How Nushell Code Gets Run <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/advanced.md" class="sidebar-item sidebar-heading" aria-label="(Not So) Advanced"><!--[--><!--]--> (Not So) Advanced <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/dataframes.html" class="sidebar-item" aria-label="Dataframes"><!--[--><!--]--> Dataframes <!--[--><!--]--></a><!----></li><li><a href="/book/metadata.html" class="sidebar-item" aria-label="Metadata"><!--[--><!--]--> Metadata <!--[--><!--]--></a><!----></li><li><a href="/book/creating_errors.html" class="sidebar-item" aria-label="Creating your own errors"><!--[--><!--]--> Creating your own errors <!--[--><!--]--></a><!----></li><li><a href="/book/parallelism.html" class="sidebar-item" aria-label="Parallelism"><!--[--><!--]--> Parallelism <!--[--><!--]--></a><!----></li><li><a href="/book/plugins.html" class="sidebar-item" aria-label="Plugins"><!--[--><!--]--> Plugins <!--[--><!--]--></a><!----></li><li><a href="/book/explore.html" class="sidebar-item" aria-label="explore"><!--[--><!--]--> explore <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="environment" tabindex="-1"><a class="header-anchor" href="#environment" aria-hidden="true">#</a> Environment</h1><p>A common task in a shell is to control the environment that external applications will use. This is often done automatically, as the environment is packaged up and given to the external application as it launches. Sometimes, though, we want to have more precise control over what environment variables an application sees.</p><p>You can see the current environment variables using the <a href="/commands/docs/env.html" class=""><code>env</code></a> command:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>   #           name                 type                value                 raw
──────────────────────────────────────────────────────────────────────────────────────────
  16   DISPLAY              string               :0                   :0
  17   EDITOR               string               nvim                 nvim
  28   LANG                 string               en_US.UTF-8          en_US.UTF-8
  35   PATH                 list&lt;unknown&gt;        [list 16 items]      /path1:/path2:/...
  36   PROMPT_COMMAND       block                &lt;Block 197&gt;
</code></pre></div><p>In Nushell, environment variables can be any value and have any type (see the <code>type</code> column). The actual value of the env. variable used within Nushell is under the <code>value</code> column. You can query the value directly using the <code>$env</code> variable, for example, <code>$env.PATH | length</code>. The last <code>raw</code> column shows the actual value that will be sent to external applications (see <a href="#environment-variable-conversions">Environment variable conversions</a> for details).</p><p>The environment is initially created from the Nu <a href="/book/configuration.html" class="">configuration file</a> and from the environment that Nu is run inside of.</p><h2 id="setting-environment-variables" tabindex="-1"><a class="header-anchor" href="#setting-environment-variables" aria-hidden="true">#</a> Setting environment variables</h2><p>There are several ways to set an environment variable:</p><h3 id="let-env" tabindex="-1"><a class="header-anchor" href="#let-env" aria-hidden="true">#</a> <a href="/commands/docs/let-env.html" class=""><code>let-env</code></a></h3><p>Using the <a href="/commands/docs/let-env.html" class=""><code>let-env</code></a> command is the most straightforward method</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; let-env FOO = &#39;BAR&#39;
</code></pre></div><p>&#39;let-env&#39; is similar to the <strong>export</strong> command in Bash.</p><p>So, if you want to extend the Windows <code>Path</code> variable, for example, you could do that as follows.</p><div class="language-text" data-ext="text"><pre class="language-text"><code>let-env Path = ($env.Path | prepend &#39;C:\path\you\want\to\add&#39;)
</code></pre></div><p>Here we&#39;ve prepended our folder to the existing folders in the Path, so it will have the highest priority. If you want to give it the lowest priority instead, you can use the <a href="/commands/docs/append.html" class=""><code>append</code></a> command.</p><h3 id="load-env" tabindex="-1"><a class="header-anchor" href="#load-env" aria-hidden="true">#</a> <a href="/commands/docs/load-env.html" class=""><code>load-env</code></a></h3><p>If you have more than one environment variable you&#39;d like to set, you can use <a href="/commands/docs/load-env.html" class=""><code>load-env</code></a> to create a table of name/value pairs and load multiple variables at the same time:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; load-env { &quot;BOB&quot;: &quot;FOO&quot;, &quot;JAY&quot;: &quot;BAR&quot; }
</code></pre></div><h3 id="one-shot-environment-variables" tabindex="-1"><a class="header-anchor" href="#one-shot-environment-variables" aria-hidden="true">#</a> One-shot environment variables</h3><p>These are defined to be active only temporarily for a duration of executing a code block. See <a aria-current="page" href="/book/environment.html#single-use-environment-variables" class="router-link-active router-link-exact-active">Single-use environment variables</a> for details.</p><h3 id="calling-a-command-defined-with-def-env" tabindex="-1"><a class="header-anchor" href="#calling-a-command-defined-with-def-env" aria-hidden="true">#</a> Calling a command defined with <a href="/commands/docs/def-env.html" class=""><code>def-env</code></a></h3><p>See <a aria-current="page" href="/book/environment.html#defining-environment-from-custom-commands" class="router-link-active router-link-exact-active">Defining environment from custom commands</a> for details.</p><h3 id="using-module-s-exports" tabindex="-1"><a class="header-anchor" href="#using-module-s-exports" aria-hidden="true">#</a> Using module&#39;s exports</h3><p>See <a href="/book/modules.html" class="">Modules</a> for details.</p><h2 id="reading-environment-variables" tabindex="-1"><a class="header-anchor" href="#reading-environment-variables" aria-hidden="true">#</a> Reading environment variables</h2><p>Individual environment variables are fields of a record that is stored in the <code>$env</code> variable and can be read with <code>$env.VARIABLE</code>:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; $env.FOO
BAR
</code></pre></div><h2 id="scoping" tabindex="-1"><a class="header-anchor" href="#scoping" aria-hidden="true">#</a> Scoping</h2><p>When you set an environment variable, it will be available only in the current scope (the block you&#39;re in and any block inside of it).</p><p>Here is a small example to demonstrate the environment scoping:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; let-env FOO = &quot;BAR&quot;
&gt; do {
    let-env FOO = &quot;BAZ&quot;
    $env.FOO == &quot;BAZ&quot;
}
true
&gt; $env.FOO == &quot;BAR&quot;
true
</code></pre></div><h2 id="changing-directory" tabindex="-1"><a class="header-anchor" href="#changing-directory" aria-hidden="true">#</a> Changing directory</h2><p>Common task in a shell is to change directory with the <a href="/commands/docs/cd.html" class=""><code>cd</code></a> command. In Nushell, calling <a href="/commands/docs/cd.html" class=""><code>cd</code></a> is equivalent to setting the <code>PWD</code> environment variable. Therefore, it follows the same rules as other environment variables (for example, scoping).</p><h2 id="single-use-environment-variables" tabindex="-1"><a class="header-anchor" href="#single-use-environment-variables" aria-hidden="true">#</a> Single-use environment variables</h2><p>A common shorthand to set an environment variable once is available, inspired by Bash and others:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; FOO=BAR $env.FOO
BAR
</code></pre></div><p>You can also use <a href="/commands/docs/with-env.html" class=""><code>with-env</code></a> to do the same thing more explicitly:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; with-env { FOO: BAR } { $env.FOO }
BAR
</code></pre></div><p>The <a href="/commands/docs/with-env.html" class=""><code>with-env</code></a> command will temporarily set the environment variable to the value given (here: the variable &quot;FOO&quot; is given the value &quot;BAR&quot;). Once this is done, the <a href="/book/types_of_data.html#blocks" class="">block</a> will run with this new environment variable set.</p><h2 id="permanent-environment-variables" tabindex="-1"><a class="header-anchor" href="#permanent-environment-variables" aria-hidden="true">#</a> Permanent environment variables</h2><p>You can also set environment variables at startup so they are available for the duration of Nushell running. To do this, set an environment variable inside <a href="/book/configuration.html" class="">the Nu configuration file</a>. For example:</p><div class="language-text" data-ext="text"><pre class="language-text"><code># In config.nu
let-env FOO = &#39;BAR&#39;
</code></pre></div><h2 id="defining-environment-from-custom-commands" tabindex="-1"><a class="header-anchor" href="#defining-environment-from-custom-commands" aria-hidden="true">#</a> Defining environment from custom commands</h2><p>Due to the scoping rules, any environment variables defined inside a custom command will only exist inside the command&#39;s scope. However, a command defined as <a href="/commands/docs/def-env.html" class=""><code>def-env</code></a> instead of <a href="/commands/docs/def.html" class=""><code>def</code></a> (it applies also to <a href="/commands/docs/export_def.html" class=""><code>export def</code></a>, see <a href="/book/modules.html" class="">Modules</a>) will preserve the environment on the caller&#39;s side:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; def-env foo [] {
    let-env FOO = &#39;BAR&#39;
}

&gt; foo

&gt; $env.FOO
BAR
</code></pre></div><h2 id="environment-variable-conversions" tabindex="-1"><a class="header-anchor" href="#environment-variable-conversions" aria-hidden="true">#</a> Environment variable conversions</h2><p>You can set the <code>ENV_CONVERSIONS</code> environment variable to convert other environment variables between a string and a value. For example, the <a href="https://github.com/nushell/nushell/blob/main/crates/nu-utils/src/sample_config/default_env.nu" target="_blank" rel="noopener noreferrer">default environment config<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> includes conversion of PATH (and Path used on Windows) environment variables from a string to a list. After both <code>env.nu</code> and <code>config.nu</code> are loaded, any existing environment variable specified inside <code>ENV_CONVERSIONS</code> will be translated according to its <code>from_string</code> field into a value of any type. External tools require environment variables to be strings, therefore, any non-string environment variable needs to be converted first. The conversion of value -&gt; string is set by the <code>to_string</code> field of <code>ENV_CONVERSIONS</code> and is done every time an external command is run.</p><p>Let&#39;s illustrate the conversions with an example. Put the following in your config.nu:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>let-env ENV_CONVERSIONS = {
    # ... you might have Path and PATH already there, add:
    FOO : {
        from_string: { |s| $s | split row &#39;-&#39; }
        to_string: { |v| $v | str join &#39;-&#39; }
    }
}
</code></pre></div><p>Now, within a Nushell instance:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; with-env { FOO : &#39;a-b-c&#39; } { nu }  # runs Nushell with FOO env. var. set to &#39;a-b-c&#39;

&gt; $env.FOO
  0   a
  1   b
  2   c
</code></pre></div><p>You can see the <code>$env.FOO</code> is now a list in a new Nushell instance with the updated config. You can also test the conversion manually by</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; do $env.ENV_CONVERSIONS.FOO.from_string &#39;a-b-c&#39;
</code></pre></div><p>Now, to test the conversion list -&gt; string, run:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; nu -c &#39;$env.FOO&#39;
a-b-c
</code></pre></div><p>Because <code>nu</code> is an external program, Nushell translated the <code>[ a b c ]</code> list according to <code>ENV_CONVERSIONS.FOO.to_string</code> and passed it to the <code>nu</code> process. Running commands with <code>nu -c</code> does not load the config file, therefore the env conversion for <code>FOO</code> is missing and it is displayed as a plain string -- this way we can verify the translation was successful. You can also run this step manually by <code>do $env.ENV_CONVERSIONS.FOO.to_string [a b c]</code></p><p>If we look back at the <a href="/commands/docs/env.html" class=""><code>env</code></a> command, the <code>raw</code> column shows the value translated by <code>ENV_CONVERSIONS.&lt;name&gt;.to_string</code> and the <code>value</code> column shows the value used in Nushell (the result of <code>ENV_CONVERSIONS.&lt;name&gt;.from_string</code> in the case of <code>FOO</code>). If the value is not a string and does not have <code>to_string</code> conversion, it is not passed to an external (see the <code>raw</code> column of <code>PROMPT_COMMAND</code>). One exception is <code>PATH</code> (<code>Path</code> on Windows): by default, it converts the string to a list on startup and from a list to a string when running externals if no manual conversions are specified.</p><p><em>(Important! The environment conversion string -&gt; value happens <strong>after</strong> the env.nu and config.nu are evaluated. All environment variables in env.nu and config.nu are still strings unless you set them manually to some other values.)</em></p><h2 id="removing-environment-variables" tabindex="-1"><a class="header-anchor" href="#removing-environment-variables" aria-hidden="true">#</a> Removing environment variables</h2><p>You can remove an environment variable only if it was set in the current scope via <a href="/commands/docs/hide_env.html" class=""><code>hide-env</code></a>:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; let-env FOO = &#39;BAR&#39;
...
&gt; hide-env FOO
</code></pre></div><p>The hiding is also scoped which both allows you to remove an environment variable temporarily and prevents you from modifying a parent environment from within a child scope:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; let-env FOO = &#39;BAR&#39;
&gt; do {
    hide-env FOO
    # $env.FOO does not exist
  }
&gt; $env.FOO
BAR
</code></pre></div><p>You can check <a href="/book/modules.html" class="">Modules</a> for more details about hiding.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/nushell/nushell.github.io/edit/main/book/environment.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: kubouch@gmail.com">Jakub Žádník</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: hustcer@outlook.com">Justin Ma</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: jonathan.d.turner@gmail.com">JT</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: L_1_L_0@yahoo.com">Leon</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 1809991+stormasm@users.noreply.github.com">Michael Angerman</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: reilly.wood@icloud.com">Reilly Wood</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 44101798+amtoine@users.noreply.github.com">Antoine Stevan</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: dandavison7@gmail.com">Dan Davison</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 343840+fdncred@users.noreply.github.com">Darren Schroeder</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 30049909+Hofer-Julian@users.noreply.github.com">Hofer-Julian</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: hello@hgf.sh">Hristo Filaretov</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: ibrah1440@gmail.com">Ibraheem Ahmed</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 547158+jntrnr@users.noreply.github.com">JT</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: jgollenz@outlook.com">Jonas Gollenz</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: jonathan.d.turner@gmail.com">Jonathan Turner</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: stormasm@gmail.com">Michael Angerman</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: presidento@farkas-mate.hu">Máté FARKAS</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: tensorush@gmail.com">Zhora Trush</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: ctenbrinke@gmail.com">chtenb</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: prrao87@gmail.com">prrao87</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/book/configuration.html" class="" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></span><span class="next"><a href="/book/stdout_stderr_exit_codes.html" class="" aria-label="Stdout, Stderr, and Exit Codes"><!--[--><!--]--> Stdout, Stderr, and Exit Codes <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-c9a81c0f.js" defer></script>
  </body>
</html>
