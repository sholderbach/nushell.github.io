<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/icon.png"><title>Thinking in Nu | Nushell</title><meta name="description" content="A new type of shell.">
    <link rel="preload" href="/assets/style-9c9951ef.css" as="style"><link rel="stylesheet" href="/assets/style-9c9951ef.css">
    <link rel="modulepreload" href="/assets/app-c9a81c0f.js"><link rel="modulepreload" href="/assets/framework-344bb0e4.js"><link rel="modulepreload" href="/assets/thinking_in_nu.html-5353331d.js"><link rel="modulepreload" href="/assets/thinking_in_nu.html-2479ef4e.js">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Nushell</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/book/" class="router-link-active" aria-label="Book"><!--[--><!--]--> Book <!--[--><!--]--></a></div><div class="navbar-item"><a href="/commands/" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></div><div class="navbar-item"><a href="/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/book/thinking_in_nu.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh-CN/book/thinking_in_nu.html" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt-BR/" class="" aria-label="Português do Brasil"><!--[--><!--]--> Português do Brasil <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/nushell/nushell" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/book/" class="router-link-active" aria-label="Book"><!--[--><!--]--> Book <!--[--><!--]--></a></div><div class="navbar-item"><a href="/commands/" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></div><div class="navbar-item"><a href="/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/book/thinking_in_nu.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh-CN/book/thinking_in_nu.html" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt-BR/" class="" aria-label="Português do Brasil"><!--[--><!--]--> Português do Brasil <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/nushell/nushell" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/book/README.md" class="sidebar-item sidebar-heading" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/book/getting_started.md" class="sidebar-item sidebar-heading active" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/installation.html" class="sidebar-item" aria-label="Installing Nu"><!--[--><!--]--> Installing Nu <!--[--><!--]--></a><!----></li><li><a href="/book/default_shell.html" class="sidebar-item" aria-label="Default shell"><!--[--><!--]--> Default shell <!--[--><!--]--></a><!----></li><li><a href="/book/quick_tour.html" class="sidebar-item" aria-label="Quick Tour"><!--[--><!--]--> Quick Tour <!--[--><!--]--></a><!----></li><li><a href="/book/moving_around.html" class="sidebar-item" aria-label="Moving around your system"><!--[--><!--]--> Moving around your system <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/thinking_in_nu.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Thinking in Nu"><!--[--><!--]--> Thinking in Nu <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book/thinking_in_nu.html#nushell-isn-t-bash" class="router-link-active router-link-exact-active sidebar-item" aria-label="Nushell isn&#39;t bash"><!--[--><!--]--> Nushell isn&#39;t bash <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/thinking_in_nu.html#think-of-nushell-as-a-compiled-language" class="router-link-active router-link-exact-active sidebar-item" aria-label="Think of Nushell as a compiled language"><!--[--><!--]--> Think of Nushell as a compiled language <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/thinking_in_nu.html#variables-are-immutable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Variables are immutable"><!--[--><!--]--> Variables are immutable <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book/thinking_in_nu.html#nushell-s-environment-is-scoped" class="router-link-active router-link-exact-active sidebar-item" aria-label="Nushell&#39;s environment is scoped"><!--[--><!--]--> Nushell&#39;s environment is scoped <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/book/nu_fundamentals.md" class="sidebar-item sidebar-heading" aria-label="Nu Fundamentals"><!--[--><!--]--> Nu Fundamentals <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/types_of_data.html" class="sidebar-item" aria-label="Types of Data"><!--[--><!--]--> Types of Data <!--[--><!--]--></a><!----></li><li><a href="/book/loading_data.html" class="sidebar-item" aria-label="Loading data"><!--[--><!--]--> Loading data <!--[--><!--]--></a><!----></li><li><a href="/book/pipelines.html" class="sidebar-item" aria-label="Pipelines"><!--[--><!--]--> Pipelines <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_strings.html" class="sidebar-item" aria-label="Working with strings"><!--[--><!--]--> Working with strings <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_lists.html" class="sidebar-item" aria-label="Working with lists"><!--[--><!--]--> Working with lists <!--[--><!--]--></a><!----></li><li><a href="/book/working_with_tables.html" class="sidebar-item" aria-label="Working with tables"><!--[--><!--]--> Working with tables <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/programming_in_nu.md" class="sidebar-item sidebar-heading" aria-label="Programming in Nu"><!--[--><!--]--> Programming in Nu <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/custom_commands.html" class="sidebar-item" aria-label="Custom commands"><!--[--><!--]--> Custom commands <!--[--><!--]--></a><!----></li><li><a href="/book/aliases.html" class="sidebar-item" aria-label="Aliases"><!--[--><!--]--> Aliases <!--[--><!--]--></a><!----></li><li><a href="/book/operators.html" class="sidebar-item" aria-label="Operators"><!--[--><!--]--> Operators <!--[--><!--]--></a><!----></li><li><a href="/book/variables_and_subexpressions.html" class="sidebar-item" aria-label="Variables and Subexpressions"><!--[--><!--]--> Variables and Subexpressions <!--[--><!--]--></a><!----></li><li><a href="/book/scripts.html" class="sidebar-item" aria-label="Scripts"><!--[--><!--]--> Scripts <!--[--><!--]--></a><!----></li><li><a href="/book/modules.html" class="sidebar-item" aria-label="Modules"><!--[--><!--]--> Modules <!--[--><!--]--></a><!----></li><li><a href="/book/overlays.html" class="sidebar-item" aria-label="Overlays"><!--[--><!--]--> Overlays <!--[--><!--]--></a><!----></li><li><a href="/book/command_signature.html" class="sidebar-item" aria-label="Command signature"><!--[--><!--]--> Command signature <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/nu_as_a_shell.md" class="sidebar-item sidebar-heading" aria-label="Nu as a Shell"><!--[--><!--]--> Nu as a Shell <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/configuration.html" class="sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----></li><li><a href="/book/environment.html" class="sidebar-item" aria-label="Environment"><!--[--><!--]--> Environment <!--[--><!--]--></a><!----></li><li><a href="/book/stdout_stderr_exit_codes.html" class="sidebar-item" aria-label="Stdout, Stderr, and Exit Codes"><!--[--><!--]--> Stdout, Stderr, and Exit Codes <!--[--><!--]--></a><!----></li><li><a href="/book/escaping.html" class="sidebar-item" aria-label="Escaping to the system"><!--[--><!--]--> Escaping to the system <!--[--><!--]--></a><!----></li><li><a href="/book/3rdpartyprompts.html" class="sidebar-item" aria-label="How to configure 3rd party prompts"><!--[--><!--]--> How to configure 3rd party prompts <!--[--><!--]--></a><!----></li><li><a href="/book/shells_in_shells.html" class="sidebar-item" aria-label="Shells in shells"><!--[--><!--]--> Shells in shells <!--[--><!--]--></a><!----></li><li><a href="/book/line_editor.html" class="sidebar-item" aria-label="Reedline, Nu&#39;s line editor"><!--[--><!--]--> Reedline, Nu&#39;s line editor <!--[--><!--]--></a><!----></li><li><a href="/book/externs.html" class="sidebar-item" aria-label="Externs"><!--[--><!--]--> Externs <!--[--><!--]--></a><!----></li><li><a href="/book/custom_completions.html" class="sidebar-item" aria-label="Custom completions"><!--[--><!--]--> Custom completions <!--[--><!--]--></a><!----></li><li><a href="/book/coloring_and_theming.html" class="sidebar-item" aria-label="Coloring and Theming in Nu"><!--[--><!--]--> Coloring and Theming in Nu <!--[--><!--]--></a><!----></li><li><a href="/book/hooks.html" class="sidebar-item" aria-label="Hooks"><!--[--><!--]--> Hooks <!--[--><!--]--></a><!----></li><li><a href="/book/background_task.html" class="sidebar-item" aria-label="Background task in Nu"><!--[--><!--]--> Background task in Nu <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/coming_to_nu.md" class="sidebar-item sidebar-heading" aria-label="Coming to Nu"><!--[--><!--]--> Coming to Nu <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/coming_from_bash.html" class="sidebar-item" aria-label="Coming from Bash"><!--[--><!--]--> Coming from Bash <!--[--><!--]--></a><!----></li><li><a href="/book/coming_from_cmd.html" class="sidebar-item" aria-label="Coming from CMD.EXE"><!--[--><!--]--> Coming from CMD.EXE <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map.html" class="sidebar-item" aria-label="Nu map from other shells and domain specific languages"><!--[--><!--]--> Nu map from other shells and domain specific languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map_imperative.html" class="sidebar-item" aria-label="Nu map from imperative languages"><!--[--><!--]--> Nu map from imperative languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_map_functional.html" class="sidebar-item" aria-label="Nu map from functional languages"><!--[--><!--]--> Nu map from functional languages <!--[--><!--]--></a><!----></li><li><a href="/book/nushell_operator_map.html" class="sidebar-item" aria-label="Nushell operator map"><!--[--><!--]--> Nushell operator map <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/design_notes.md" class="sidebar-item sidebar-heading" aria-label="Design Notes"><!--[--><!--]--> Design Notes <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/how_nushell_code_gets_run.html" class="sidebar-item" aria-label="How Nushell Code Gets Run"><!--[--><!--]--> How Nushell Code Gets Run <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book/advanced.md" class="sidebar-item sidebar-heading" aria-label="(Not So) Advanced"><!--[--><!--]--> (Not So) Advanced <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/book/dataframes.html" class="sidebar-item" aria-label="Dataframes"><!--[--><!--]--> Dataframes <!--[--><!--]--></a><!----></li><li><a href="/book/metadata.html" class="sidebar-item" aria-label="Metadata"><!--[--><!--]--> Metadata <!--[--><!--]--></a><!----></li><li><a href="/book/creating_errors.html" class="sidebar-item" aria-label="Creating your own errors"><!--[--><!--]--> Creating your own errors <!--[--><!--]--></a><!----></li><li><a href="/book/parallelism.html" class="sidebar-item" aria-label="Parallelism"><!--[--><!--]--> Parallelism <!--[--><!--]--></a><!----></li><li><a href="/book/plugins.html" class="sidebar-item" aria-label="Plugins"><!--[--><!--]--> Plugins <!--[--><!--]--></a><!----></li><li><a href="/book/explore.html" class="sidebar-item" aria-label="explore"><!--[--><!--]--> explore <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="thinking-in-nu" tabindex="-1"><a class="header-anchor" href="#thinking-in-nu" aria-hidden="true">#</a> Thinking in Nu</h1><p>To help you understand - and get the most out of - Nushell, we&#39;ve put together this section on &quot;thinking in Nushell&quot;. By learning to think in Nushell and use the patterns it provides, you&#39;ll hit fewer issues getting started and be better setup for success.</p><p>So what does it mean to think in Nushell? Here are some common topics that come up with new users of Nushell.</p><h2 id="nushell-isn-t-bash" tabindex="-1"><a class="header-anchor" href="#nushell-isn-t-bash" aria-hidden="true">#</a> Nushell isn&#39;t bash</h2><p>Nushell is both a programming language and a shell and because of this has its own way of working with files, directories, websites, and more. We&#39;ve modeled this to work closely with what you may be familiar with other shells. Pipelines work by attaching two commands together:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; ls | length
</code></pre></div><p>Nushell, for example, also has support for other common capabilities like getting the exit code from previously run commands.</p><p>While it does have these amenities, Nushell isn&#39;t bash. The bash way of working, and the POSIX style in general, is not one that Nushell supports. For example, in bash, you might use:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">&gt;</span> output.txt
</code></pre></div><p>In Nushell, we use the <code>&gt;</code> as the greater-than operator. This fits better with the language aspect of Nushell. Instead, you pipe to a command that has the job of saving content:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; &quot;hello&quot; | save output.txt
</code></pre></div><p><strong>Thinking in Nushell:</strong> The way Nushell views data is that data flows through the pipeline until it reaches the user or is handled by a final command. You can simply type data, from strings to JSON-style lists and records, and follow it with <code>|</code> to send it through the pipeline. Nushell uses commands to do work and produce more data. Learning these commands and when to use them helps you compose many kinds of pipelines.</p><h2 id="think-of-nushell-as-a-compiled-language" tabindex="-1"><a class="header-anchor" href="#think-of-nushell-as-a-compiled-language" aria-hidden="true">#</a> Think of Nushell as a compiled language</h2><p>An important part of Nushell&#39;s design and specifically where it differs from many dynamic languages is that Nushell converts the source you give it into something to run, and then runs the result. It doesn&#39;t have an <code>eval</code> feature which allows you to continue pulling in new source during runtime. This means that tasks like including files to be part of your project need to be known paths, much like includes in compiled languages like C++ or Rust.</p><p>For example, the following doesn&#39;t make sense in Nushell, and will fail to execute if run as a script:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&quot;def abc [] { 1 + 2 }&quot; | save output.nu
source &quot;output.nu&quot;
abc
</code></pre></div><p>The <a href="/commands/docs/source.html" class=""><code>source</code></a> command will grow the source that is compiled, but the <a href="/commands/docs/save.html" class=""><code>save</code></a> from the earlier line won&#39;t have had a chance to run. Nushell runs the whole block as if it were a single file, rather than running one line at a time. In the example, since the output.nu file is not created until after the &#39;compilation&#39; step, the <a href="/commands/docs/source.html" class=""><code>source</code></a> command is unable to read definitions from it during parse time.</p><p>Another common issue is trying to dynamically create the filename to source from:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; source $&quot;($my_path)/common.nu&quot;
</code></pre></div><p>This would require the evaluator to run and evaluate the string, but unfortunately Nushell needs this information at compile-time.</p><p><strong>Thinking in Nushell:</strong> Nushell is designed to use a single compile step for all the source you send it, and this is separate from evaluation. This will allow for strong IDE support, accurate error messages, an easier language for third-party tools to work with, and in the future even fancier output like being able to compile Nushell directly to a binary file.</p><p>For more in-depth explanation, check <a href="/book/how_nushell_code_gets_run.html" class="">How Nushell Code Gets Run</a>.</p><h2 id="variables-are-immutable" tabindex="-1"><a class="header-anchor" href="#variables-are-immutable" aria-hidden="true">#</a> Variables are immutable</h2><p>Another common surprise for folks coming from other languages is that Nushell variables are immutable (and indeed some people have started to call them &quot;constants&quot; to reflect this). Coming to Nushell you&#39;ll want to spend some time becoming familiar with working in a more functional style, as this tends to help write code that works best with immutable variables.</p><p>You might wonder why Nushell uses immutable variables. Early on in Nushell&#39;s development we decided to see how long we could go using a more data-focused, functional style in the language. More recently, we added a key bit of functionality into Nushell that made these early experiments show their value: parallelism. By switching from <a href="/commands/docs/each.html" class=""><code>each</code></a> to <a href="/commands/docs/par-each.html" class=""><code>par-each</code></a> in any Nushell script, you&#39;re able to run the corresponding block of code in parallel over the input. This is possible because Nushell&#39;s design leans heavily on immutability, composition, and pipelining.</p><p>Just because Nushell variables are immutable doesn&#39;t mean things don&#39;t change. Nushell makes heavy use of the technique of &quot;shadowing&quot;. Shadowing means creating a new variable with the same name as a previously declared variable. For example, say you had an <code>$x</code> in scope, and you wanted a new <code>$x</code> that was one greater:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>let x = $x + 1
</code></pre></div><p>This new <code>x</code> is visible to any code that follows this line. Careful use of shadowing can make for an easier time working with variables, though it&#39;s not required.</p><p>Loop counters are another common pattern for mutable variables and are built into most iterating commands, for example you can get both each item and an index of each item using <a href="/commands/docs/each.html" class=""><code>each</code></a>:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; ls | enumerate | each { |it| $&quot;Number ($it.index) is size ($it.item.size)&quot; }
</code></pre></div><p>You can also use the <a href="/commands/docs/reduce.html" class=""><code>reduce</code></a> command to work in the same way you might mutate a variable in a loop. For example, if you wanted to find the largest string in a list of strings, you might do:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; [one, two, three, four, five, six] | reduce {|curr, max|
    if ($curr | str length) &gt; ($max | str length) {
        $curr
    } else {
        $max
    }
}
</code></pre></div><p><strong>Thinking in Nushell:</strong> If you&#39;re used to using mutable variables for different tasks, it will take some time to learn how to do each task in a more functional style. Nushell has a set of built-in capabilities to help with many of these patterns, and learning them will help you write code in a more Nushell-style. The added benefit of speeding up your scripts by running parts of your code in parallel is a nice bonus.</p><h2 id="nushell-s-environment-is-scoped" tabindex="-1"><a class="header-anchor" href="#nushell-s-environment-is-scoped" aria-hidden="true">#</a> Nushell&#39;s environment is scoped</h2><p>Nushell takes multiple design cues from compiled languages. One such cue is that languages should avoid global mutable state. Shells have commonly used global mutation to update the environment, but Nushell steers clear of this approach.</p><p>In Nushell, blocks control their own environment. Changes to the environment are scoped to the block where they happen.</p><p>In practice, this lets you write some concise code for working with subdirectories, for example, if you wanted to build each sub-project in the current directory, you could run:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&gt; ls | each { |it|
    cd $it.name
    make
}
</code></pre></div><p>The <a href="/commands/docs/cd.html" class=""><code>cd</code></a> command changes the <code>PWD</code> environment variables, and this variable change does not escape the block, allowing each iteration to start from the current directory and enter the next subdirectory.</p><p>Having the environment scoped like this makes commands more predictable, easier to read, and when the time comes, easier to debug. Nushell also provides helper commands like <a href="/commands/docs/def-env.html" class=""><code>def-env</code></a>, <a href="/commands/docs/load-env.html" class=""><code>load-env</code></a>, as convenient ways of doing batches of updates to the environment.</p><p><code>*</code> - there is one exception here, where <a href="/commands/docs/def-env.html" class=""><code>def-env</code></a> allows you to create a command that participates in the caller&#39;s environment</p><p><strong>Thinking in Nushell:</strong> - The coding best practice of no global mutable variables extends to the environment in Nushell. Using the built-in helper commands will let you more easily work with the environment in Nushell. Taking advantage of the fact that environments are scoped to blocks can also help you write more concise scripts and interact with external commands without adding things into a global environment you don&#39;t need.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/nushell/nushell.github.io/edit/main/book/thinking_in_nu.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: kubouch@gmail.com">Jakub Žádník</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: alpha@kejadlen.dev">Alpha Chen</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: HoLLy-HaCKeR@users.noreply.github.com">HoLLy</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 30049909+Hofer-Julian@users.noreply.github.com">Hofer-Julian</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: joel.o.afriyie@gmail.com">Joel Afriyie</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: L_1_L_0@yahoo.com">Leon</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: presidento@farkas-mate.hu">Máté FARKAS</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/book/moving_around.html" class="" aria-label="Moving around your system"><!--[--><!--]--> Moving around your system <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-c9a81c0f.js" defer></script>
  </body>
</html>
