import{_ as o,M as e,p,q as t,Q as r,t as s,N as l,U as c,a1 as a}from"./framework-344bb0e4.js";const u={},i=a(`<h1 id="shells-em-shells" tabindex="-1"><a class="header-anchor" href="#shells-em-shells" aria-hidden="true">#</a> Shells em shells</h1><h2 id="trabalhando-em-multiplos-diretorios" tabindex="-1"><a class="header-anchor" href="#trabalhando-em-multiplos-diretorios" aria-hidden="true">#</a> Trabalhando em múltiplos diretórios</h2><p>Embora seja comum trabalhar em um único diretório, pode ser útil trabalhar em múltiplos locais ao mesmo tempo. Para isso, Nu oferece o conceito de &quot;shells&quot;. Como o nome implica, eles são uma maneira de executar múltiplos shells em um, permitindo que você salte rapidamente entre diretórios e muito mais.</p><p>Para começar, vamos entrar num diretório:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/home/jonathan/Source/nushell<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> enter <span class="token punctuation">..</span>/lark
/home/jonathan/Source/lark<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token function">ls</span>
----+----------------+-----------+----------+---------+---------------+---------------
 <span class="token comment">#  | name           | type      | readonly | size    | accessed      | modified</span>
----+----------------+-----------+----------+---------+---------------+---------------
 <span class="token number">0</span>  <span class="token operator">|</span> Cargo.toml     <span class="token operator">|</span> File      <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">2.2</span> KB  <span class="token operator">|</span> <span class="token number">6</span> months ago  <span class="token operator">|</span> <span class="token number">6</span> months ago
 <span class="token number">1</span>  <span class="token operator">|</span> target         <span class="token operator">|</span> Directory <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">4.1</span> KB  <span class="token operator">|</span> <span class="token number">10</span> months ago <span class="token operator">|</span> <span class="token number">6</span> months ago
 <span class="token number">2</span>  <span class="token operator">|</span> notes          <span class="token operator">|</span> Directory <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">4.1</span> KB  <span class="token operator">|</span> <span class="token number">10</span> months ago <span class="token operator">|</span> <span class="token number">6</span> months ago
</code></pre></div><p>Entrar é semlhante a mudar de diretório (como vimos com o comando <code>cd</code>), permitindo que você salte para o diretório dentro do qual vai trabalhar. Ao invés de mudar de diretório, nós agora estamos em dois diretórios. Para ver isso mais claramente, podemos usar o comando <code>shells</code> para listar os diretórios ativos agora:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/home/jonathan/Source/lark<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> shells
---+---+------------+-------------------------------
 <span class="token comment"># |   | name       | path</span>
---+---+------------+-------------------------------
 <span class="token number">0</span> <span class="token operator">|</span>   <span class="token operator">|</span> filesystem <span class="token operator">|</span> /home/jonathan/Source/nushell
 <span class="token number">1</span> <span class="token operator">|</span> X <span class="token operator">|</span> filesystem <span class="token operator">|</span> /home/jonathan/Source/lark
---+---+------------+-------------------------------
</code></pre></div><p>O comando <code>shells</code> nos mostra que há dois diretórios ativos agora: nosso diretório original &quot;nushell&quot; e agora esse novo diretório &quot;lark&quot;.</p><p>Podemos saltar entre esses shells com os atalhos <code>n</code> e <code>p</code>, abrevisções para &quot;next&quot; (próximo) e &quot;previous&quot; (anterior):</p><div class="language-text" data-ext="text"><pre class="language-text"><code>/home/jonathan/Source/lark(master)&gt; n
/home/jonathan/Source/nushell(master)&gt; p
/home/jonathan/Source/lark(master)&gt;
</code></pre></div><p>Podemos ver a alteração de diretórios, mas sempre somos capazes de voltar para um diretório anterior em que estávamos trabalhando. Isso nos permite trabalhar em múltiplos diretórios na mesma sessão.</p><h2 id="saindo-do-shell" tabindex="-1"><a class="header-anchor" href="#saindo-do-shell" aria-hidden="true">#</a> Saindo do shell</h2><p>Você pode sair de um shell em que tenha entrado (usando <code>enter</code>) através do comando <code>exit</code>. Se esse for o último shell aberto, Nu será encerrado.</p><p>Você sempre pode emcerrar o Nu, mesmo que múltiplos shells estejam ativos, passando o modificador <code>--now</code> para o comando <code>exit</code>. Assim: <code>exit --now</code>.</p><h2 id="indo-alem-de-diretorios" tabindex="-1"><a class="header-anchor" href="#indo-alem-de-diretorios" aria-hidden="true">#</a> Indo além de diretórios</h2><p>O Nu também pode criar shells a partir de outras coisas além de caminhos do sistema de arquivos. Digamos, por exemplo, que você está trabalhando com uma grande massa de dadose não quer perder seu lugar dentro dela.</p>`,16),k=a(`<p>Vamos entrar no arquivo &quot;Cargo.toml&quot; do código fonte do Nu:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/Users/andresrobalino/Code/nushell<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> enter Cargo.toml
/<span class="token operator">&gt;</span> <span class="token function">ls</span>
------------+--------------+------------------+----------+----------
 bin        <span class="token operator">|</span> dependencies <span class="token operator">|</span> dev-dependencies <span class="token operator">|</span> lib      <span class="token operator">|</span> package
------------+--------------+------------------+----------+----------
 <span class="token punctuation">[</span><span class="token number">11</span> items<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>     <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>         <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>
------------+--------------+------------------+----------+----------
</code></pre></div><p>Até o momento, apenas entramos no arquivo (usando o comando <code>enter</code>) e podemos ver o que há dentro dele pela tabela que o <code>ls</code> nos retorna. Se você prestar bastante atenção, dessa vez entramos num arquivo cujo formato o Nu entende (.toml). O Nu também projeta o conteúdo do arquivo em algo semelhante a um sistema de arquivos para que possamos explorá-lo como se fosse um sistema de arquivos regular.</p><p>Antes de continuarmos, vamos checar os shells ativos:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/<span class="token operator">&gt;</span> shells
---+---+-------------------------------------------------+------------------------------------
 <span class="token comment"># |   | name                                            | path</span>
---+---+-------------------------------------------------+------------------------------------
 <span class="token number">0</span> <span class="token operator">|</span>   <span class="token operator">|</span> filesystem                                      <span class="token operator">|</span> /Users/andresrobalino/Code/nushell
 <span class="token number">1</span> <span class="token operator">|</span> X <span class="token operator">|</span> <span class="token punctuation">{</span>/Users/andresrobalino/Code/nushell/Cargo.toml<span class="token punctuation">}</span> <span class="token operator">|</span> /
---+---+-------------------------------------------------+------------------------------------

</code></pre></div><p>Podemos observar que temos dois shells ativos e que estamos agora dentro do arquivo &quot;Cargo.toml&quot; com um caminho raíz padrão &quot;/&quot;. Vamos ver seu contéudo novamente:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/<span class="token operator">&gt;</span> <span class="token function">ls</span>
------------+--------------+------------------+----------+----------
 bin        <span class="token operator">|</span> dependencies <span class="token operator">|</span> dev-dependencies <span class="token operator">|</span> lib      <span class="token operator">|</span> package
------------+--------------+------------------+----------+----------
 <span class="token punctuation">[</span><span class="token number">11</span> items<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>     <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>         <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span>object<span class="token punctuation">]</span>
------------+--------------+------------------+----------+----------
</code></pre></div><p>O que estamos procurando pode estar dentro da coluna &quot;bin&quot;, então vamos entrar lá:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> bin
/bin<span class="token operator">&gt;</span> <span class="token function">ls</span>
----+----------------------+---------------------------
 <span class="token comment">#  | name                 | path</span>
----+----------------------+---------------------------
 <span class="token number">0</span>  <span class="token operator">|</span> nu_plugin_inc        <span class="token operator">|</span> src/plugins/inc.rs
 <span class="token number">1</span>  <span class="token operator">|</span> nu_plugin_sum        <span class="token operator">|</span> src/plugins/sum.rs
 <span class="token number">2</span>  <span class="token operator">|</span> nu_plugin_add        <span class="token operator">|</span> src/plugins/add.rs
 <span class="token number">3</span>  <span class="token operator">|</span> nu_plugin_edit       <span class="token operator">|</span> src/plugins/edit.rs
 <span class="token number">4</span>  <span class="token operator">|</span> nu_plugin_str        <span class="token operator">|</span> src/plugins/str.rs
 <span class="token number">5</span>  <span class="token operator">|</span> nu_plugin_skip       <span class="token operator">|</span> src/plugins/skip.rs
 <span class="token number">6</span>  <span class="token operator">|</span> nu_plugin_sys        <span class="token operator">|</span> src/plugins/sys.rs
 <span class="token number">7</span>  <span class="token operator">|</span> nu_plugin_tree       <span class="token operator">|</span> src/plugins/tree.rs
 <span class="token number">8</span>  <span class="token operator">|</span> nu_plugin_binaryview <span class="token operator">|</span> src/plugins/binaryview.rs
 <span class="token number">9</span>  <span class="token operator">|</span> nu_plugin_textview   <span class="token operator">|</span> src/plugins/textview.rs
 <span class="token number">10</span> <span class="token operator">|</span> nu                   <span class="token operator">|</span> src/main.rs
----+----------------------+---------------------------
</code></pre></div><p>Daqui, sempre podemos voltar para o diretório em que estávamos trabalhando antes usando p (de prévio, anterior).</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/bin<span class="token operator">&gt;</span> p
</code></pre></div><p>Vamos verificar os shells de novo:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/Users/andresrobalino/Code/nushell<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> shells
---+---+-------------------------------------------------+------------------------------------
 <span class="token comment"># |   | name                                            | path</span>
---+---+-------------------------------------------------+------------------------------------
 <span class="token number">0</span> <span class="token operator">|</span> X <span class="token operator">|</span> filesystem                                      <span class="token operator">|</span> /Users/andresrobalino/Code/nushell
 <span class="token number">1</span> <span class="token operator">|</span>   <span class="token operator">|</span> <span class="token punctuation">{</span>/Users/andresrobalino/Code/nushell/Cargo.toml<span class="token punctuation">}</span> <span class="token operator">|</span> /bin
---+---+-------------------------------------------------+------------------------------------

</code></pre></div><p>Estamos de volta ao diretório onde estávamos trabalhando antes de entrar no arquivo &quot;Cargo.toml&quot;. Agora vamos mudar para o diretório onde então os códigos fonte dos plugins e rastreá-los:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/Users/andresrobalino/Code/nushell<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> src/plugins/
/Users/andresrobalino/Code/nushell/src/plugins<span class="token punctuation">(</span>master<span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token function">ls</span>
----+---------------+------+----------+---------+------------+------------
 <span class="token comment">#  | name          | type | readonly | size    | accessed   | modified</span>
----+---------------+------+----------+---------+------------+------------
 <span class="token number">0</span>  <span class="token operator">|</span> doc.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">3.0</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">1</span>  <span class="token operator">|</span> sum.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">3.0</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">2</span>  <span class="token operator">|</span> inc.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">11.8</span> KB <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">3</span>  <span class="token operator">|</span> sys.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">9.2</span> KB  <span class="token operator">|</span> <span class="token number">2</span> days ago <span class="token operator">|</span> <span class="token number">2</span> days ago
 <span class="token number">4</span>  <span class="token operator">|</span> edit.rs       <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">2.7</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">5</span>  <span class="token operator">|</span> str.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">21.4</span> KB <span class="token operator">|</span> <span class="token number">5</span> days ago <span class="token operator">|</span> <span class="token number">5</span> days ago
 <span class="token number">6</span>  <span class="token operator">|</span> secret.rs     <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">1.8</span> KB  <span class="token operator">|</span> <span class="token number">2</span> days ago <span class="token operator">|</span> <span class="token number">2</span> days ago
 <span class="token number">7</span>  <span class="token operator">|</span> skip.rs       <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">1.7</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">8</span>  <span class="token operator">|</span> binaryview.rs <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">13.0</span> KB <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">9</span>  <span class="token operator">|</span> tree.rs       <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">3.0</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">10</span> <span class="token operator">|</span> add.rs        <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">2.7</span> KB  <span class="token operator">|</span> a week ago <span class="token operator">|</span> a week ago
 <span class="token number">11</span> <span class="token operator">|</span> textview.rs   <span class="token operator">|</span> File <span class="token operator">|</span>          <span class="token operator">|</span> <span class="token number">9.4</span> KB  <span class="token operator">|</span> <span class="token number">5</span> days ago <span class="token operator">|</span> <span class="token number">5</span> days ago
----+---------------+------+----------+---------+------------+------------
</code></pre></div><p>Podemos agora comparar os dois para ver se há algum plugin faltando ou a mais que precisemos adicionao ao nosso arquivo (claramente precisamos adicionar o plugin <code>doc.rs</code> que criamos ao arquivo &quot;Cargo.toml&quot;!).</p>`,16);function d(m,h){const n=e("RouterLink");return p(),t("div",null,[i,r("p",null,[s("Para ver como isso funciona, vamos fazer o seguinte exercício. Atualmente, listamos os "),l(n,{to:"/pt-BR/book/plugins.html"},{default:c(()=>[s("plugins")]),_:1}),s(' que desenvolvemos para o Nu no arquivo "Cargo.toml". Digamos que tenhamos acabado de criar um novo plugin no diretório src/plugins chamado "doc.rs" e queremos saber se ele também está listado, de forma que possa ser compilado e instalado corretamente.')]),k])}const b=o(u,[["render",d],["__file","shells_em_shells.html.vue"]]);export{b as default};
