import{_ as r,M as a,p as u,q as i,Q as e,t,N as n,U as l}from"./framework-344bb0e4.js";const c={},h=e("h1",{id:"background-task-in-nu",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#background-task-in-nu","aria-hidden":"true"},"#"),t(" Background task in Nu")],-1),d=e("p",null,`Currently Nushell doesn't have built-in background task management feature, but you can make it "support" background task with some tools, here are some example:`,-1),_={href:"https://github.com/Nukesor/pueue",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/tmux/tmux/wiki",target:"_blank",rel:"noopener noreferrer"},p={href:"https://zellij.dev/",target:"_blank",rel:"noopener noreferrer"},k=e("h2",{id:"using-nu-with-pueue",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#using-nu-with-pueue","aria-hidden":"true"},"#"),t(" Using nu with pueue")],-1),g={href:"https://github.com/Nukesor/pueue",target:"_blank",rel:"noopener noreferrer"},b=e("p",null,"Unlike terminal multiplexer, you don't need to attach to multiple tmux sessions, and get task status easily.",-1),f={href:"https://github.com/nushell/nu_scripts/tree/main/background_task",target:"_blank",rel:"noopener noreferrer"},w=e("p",null,'Here is a setup example to make nushell "support" background task:',-1),x=e("li",null,"install pueue",-1),v=e("code",null,"pueued",-1),y={href:"https://github.com/Nukesor/pueue/wiki/Get-started#start-the-daemon",target:"_blank",rel:"noopener noreferrer"},N={href:"https://github.com/nushell/nu_scripts/blob/main/background_task/job.nu",target:"_blank",rel:"noopener noreferrer"},j=e("code",null,"$env.NU_LIB_DIRS",-1),B=e("li",null,[t("add a line to the "),e("code",null,"$nu.config-path"),t(" file: "),e("code",null,"use job.nu")],-1),I=e("li",null,"restart nu.",-1),L=e("p",null,[t("Then you will get some commands to schedule background tasks. (e.g: "),e("code",null,"job spawn"),t(", "),e("code",null,"job status"),t(", "),e("code",null,"job log"),t(")")],-1),U=e("code",null,"use",-1),C=e("code",null,"def",-1),E=e("h2",{id:"using-nu-with-terminal-multiplexer",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#using-nu-with-terminal-multiplexer","aria-hidden":"true"},"#"),t(" Using nu with terminal multiplexer")],-1),R=e("p",null,"You can choose and install a terminal multiplexer and use it.",-1),T=e("p",null,"It allows you to easily switch between multiple programs in one terminal, detach them (they continue to run in the background) and reconnect them to a different terminal. As a result, it is very flexible and usable.",-1);function V(z,H){const o=a("ExternalLinkIcon"),s=a("RouterLink");return u(),i("div",null,[h,d,e("ol",null,[e("li",null,[t("using a third-party task management tools, like "),e("a",_,[t("pueue"),n(o)])]),e("li",null,[t("using a terminal multiplexer, like "),e("a",m,[t("tmux"),n(o)]),t(" or "),e("a",p,[t("zellij"),n(o)])])]),k,e("p",null,[t("Borrows the power of "),e("a",g,[t("pueue"),n(o)]),t(", it is possible to schedule background tasks to pueue, and manage those tasks (such as viewing logs, killing tasks, or getting the running status of all tasks)")]),b,e("p",null,[t("Here we provide a "),e("a",f,[t("nushell module"),n(o)]),t(" to work with pueue easiler.")]),w,e("ol",null,[x,e("li",null,[t("run "),v,t(" with default config, you can refer to "),e("a",y,[t("start-the-daemon page"),n(o)]),t(" for more information.")]),e("li",null,[t("put the "),e("a",N,[t("job.nu"),n(o)]),t(" file under "),j,t(".")]),B,I]),L,e("p",null,[t("Cons note: It spawned a fresh nushell to execute the given command, so it doesn't inherit current scope's variables, custom commands, alias definition, except env variables which can convert value to string. Therefore, if you want to use custom commands or variables, you have to "),n(s,{to:"/commands/docs/use.html"},{default:l(()=>[U]),_:1}),t(" or "),n(s,{to:"/commands/docs/def.html"},{default:l(()=>[C]),_:1}),t(" them within the given block.")]),E,R,T])}const q=r(c,[["render",V],["__file","background_task.html.vue"]]);export{q as default};
